(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{"./bundles/sf-heatmap.js":function(e,t,i){"use strict";i.r(t);i("./modules/sf-heatmap.js")},"./modules/sf-heatmap.js":function(e,t){window.sfBlazor=window.sfBlazor||{},window.sfBlazor.HeatMap=function(){"use strict";var e=function(){function e(e,t){this.resizeTimer=0,this.previousCellID="",window.sfBlazor=window.sfBlazor,this.element=e,this.dataId=e.id,window.sfBlazor.setCompInstance(this),this.dotnetRef=t}return e.prototype.initialize=function(e){var t=sf.base.Browser.isPointer?"pointerleave":"mouseleave";sf.base.EventHandler.add(this.element,"click",this.heatMapMouseClick,this),sf.base.EventHandler.add(this.element,sf.base.Browser.touchStartEvent,this.heatMapMouseMove,this),sf.base.EventHandler.add(this.element,t,this.heatMapMouseLeave,this),sf.base.EventHandler.add(this.element,sf.base.Browser.touchMoveEvent,this.heatMapMouseMove,this);var i=sf.base.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize";sf.base.EventHandler.add(window,i,this.resizeBound.bind(this),this);var o=this.getElementBounds(this.element),n=this.getMaxLabelSize(e.XAxisLabels,e.XAxisTextStyle,e.XAxisLabelRotation),s=this.getMaxLabelSize(e.YAxisLabels,e.YAxisTextStyle,e.YAxisLabelRotation),l=this.getMaxLabelSize([e.TitleText],e.TitleStyle,0),a=this.getMaxLabelSize(e.LegendLabels,e.LegendTextStyle,0);return JSON.stringify({availableSize:o,xAxisSize:n,yAxisSize:s,titleSize:l,legendTextSize:a})},e.prototype.getLabelSize=function(e){var t,i,o,n=this.getElementBounds(this.element);e.IsLegendOnlyRender||(t=this.getMaxLabelSize(e.XAxisLabels,e.XAxisTextStyle,e.XAxisLabelRotation),i=this.getMaxLabelSize(e.YAxisLabels,e.YAxisTextStyle,e.YAxisLabelRotation),o=this.getMaxLabelSize([e.TitleText],e.TitleStyle,0));var s=this.getMaxLabelSize(e.LegendLabels,e.LegendTextStyle,0);return JSON.stringify({availableSize:n,xAxisSize:t,yAxisSize:i,titleSize:o,legendTextSize:s})},e.prototype.heatMapMouseClick=function(e){this.dotnetRef.invokeMethodAsync("HeatMapMouseClick",this.getEventArgs(e),this.getElementBounds(this.element))},e.prototype.heatMapMouseLeave=function(e){this.dotnetRef.invokeMethodAsync("HeatMapMouseLeave",this.getEventArgs(e),this.getElementBounds(this.element))},e.prototype.heatMapMouseMove=function(e){this.dotnetRef.invokeMethodAsync("HeatMapMouseMove",this.getEventArgs(e),this.getElementBounds(this.element))},e.prototype.resizeBound=function(){var e=this;this.resizeTimer&&clearTimeout(this.resizeTimer),this.element&&(this.resizeTimer=setTimeout((function(){return e.dotnetRef.invokeMethodAsync("ResizeBound",e.getElementBounds(e.element).height,e.getElementBounds(e.element).width,e.getElementBounds(e.element).parentHeight)}),500))},e.prototype.setMouseXY=function(e,t,i){var o=document.getElementById(i).getBoundingClientRect(),n=document.getElementById(i).getBoundingClientRect();this.mouseY=t-n.top-Math.max(o.top-n.top,0),this.mouseX=e-n.left-Math.max(o.left-n.left,0)},e.prototype.renderTooltip=function(e,t,i,o,n,s,l,a,r,h){var d=document.getElementById(t+"_svg"),p=!(d&&parseInt(d.getAttribute("opacity"),10)>0),u="string"==typeof i?JSON.parse(i):i;n&&!s&&this.updateCellHighlight(i.id),h&&"TailwindDark"==h&&(u.fill="#F9FAFB"),h&&"Bootstrap5Dark"==h&&(u.fill="#E9ECEF");var f=window.sfBlazor.getCompInstance(e);u.content=u.xLabel+u.yLabel+u.value,p&&!sf.base.isNullOrUndefined(f)?(u.content=u.displayText,u.location={x:u.x+u.width/2,y:u.y+u.height/2},u.areaBounds={height:o.height+o.y,width:o.width,x:o.x},u.opacity="Tailwind"==h||"TailwindDark"===h||"Bootstrap5"===h||"Bootstrap5Dark"===h?1:.75,u.theme=h,u.fill=a,f.tooltip=new sf.svgbase.Tooltip(u),f.tooltip.border.width=sf.base.isNullOrUndefined(r)?f.tooltip.border.width:r.width,f.tooltip.border.color=sf.base.isNullOrUndefined(r)?f.tooltip.border.color:r.color,f.tooltip.appendTo("#"+t)):sf.base.isNullOrUndefined(f.tooltip)||(sf.base.isNullOrUndefined(l)||(f.tooltip.textStyle.color=l.color||f.tooltip.textStyle.color,f.tooltip.textStyle.fontFamily=l.fontFamily||f.tooltip.textStyle.fontFamily,f.tooltip.textStyle.fontStyle=l.fontStyle||f.tooltip.textStyle.fontStyle,f.tooltip.textStyle.fontWeight=l.fontWeight||f.tooltip.textStyle.fontWeight,f.tooltip.textStyle.size=l.size||f.tooltip.textStyle.size),h&&"Tailwind"==h&&(f.tooltip.textStyle.color="#FFFFFF",f.tooltip.textStyle.fontWeight="500",f.tooltip.textStyle.size="12px",f.tooltip.textStyle.fontFamily="Inter"),h&&"TailwindDark"==h&&(f.tooltip.textStyle.color="#1F2937",f.tooltip.textStyle.fontWeight="500",f.tooltip.textStyle.size="12px",f.tooltip.textStyle.fontFamily="Inter"),h&&"Bootstrap5"==h&&(f.tooltip.border.width=0,f.tooltip.border.color="",f.tooltip.fill="",f.tooltip.opacity=.75,f.tooltip.textStyle.opacity=1,f.tooltip.textStyle.color=null,f.tooltip.textStyle.fontWeight="Normal",f.tooltip.textStyle.size="13px",f.tooltip.textStyle.fontFamily="Segoe UI"),h&&"Bootstrap5Dark"==h&&(f.tooltip.textStyle.color="#212529",f.tooltip.textStyle.fontWeight="500",f.tooltip.textStyle.size="14px",f.tooltip.textStyle.fontFamily="system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'"),u.toolTipX=u.x+u.width/2,u.toolTipY=u.y+u.height/2,u.content=u.displayText,f.tooltip.location=new sf.svgbase.TooltipLocation(u.toolTipX,u.toolTipY),f.tooltip.content=[u.content],f.tooltip.dataBind())},e.prototype.updateCellHighlight=function(e){this.previousCellID!==e&&(""!=this.previousCellID&&this.setOpacity(document.getElementById(this.previousCellID),"1"),this.setOpacity(document.getElementById(e),"0.65"),this.previousCellID=e)},e.prototype.setOpacity=function(e,t){e.setAttribute("opacity",t)},e.prototype.getElementBounds=function(e){var t=this.stringToNumber(this.width,e.offsetWidth)||e.offsetWidth||600,i=this.stringToNumber(this.height,e.offsetHeight)||450,o=e.getBoundingClientRect();return{width:t,height:i,parentHeight:e.parentElement?e.parentElement.offsetHeight:i,left:Math.ceil(o.left),top:Math.ceil(o.top),right:Math.ceil(o.right),bottom:Math.ceil(o.bottom)}},e.prototype.stringToNumber=function(e,t){return sf.base.isNullOrUndefined(e)?null:-1!==e.indexOf("%")?t/100*parseInt(e,10):parseInt(e,10)},e.prototype.getMaxLabelSize=function(e,t,i){for(var o,n={height:0,width:0,top:0,left:0,right:0,bottom:0,parentHeight:0},s=0;s<e.length;s++){var l=this.measureText(e[s],t);n.height<l.height&&(n.height=l.height),n.width<l.width&&(n.width=l.width,o=e[s])}return 0!==i&&(n=this.rotateTextSize(t,o,i)),n},e.prototype.rotateTextSize=function(e,t,i){var o=new sf.svgbase.SvgRenderer("heatmapMeasureRotateText"),n=o.createSvg({id:"heatmapMeasureRotateText_svg",width:100,height:100}),s={"font-size":e.size,"font-style":e.fontStyle.toLowerCase(),"font-family":e.fontFamily,"font-weight":e.fontWeight.toLowerCase(),transform:"rotate("+i+", 0, 0)","text-anchor":"middle"},l=o.createText(s,t);n.appendChild(l),document.body.appendChild(n);var a=l.getBoundingClientRect();return sf.base.remove(n),{height:Math.round(a.bottom-a.top),width:Math.round(a.right-a.left),top:0,left:0,right:0,bottom:0,parentHeight:0}},e.prototype.getEventArgs=function(e){var t=e.changedTouches?e.changedTouches[0].clientX:e.clientX,i=e.changedTouches?e.changedTouches[0].clientY:e.clientY;this.setMouseXY(t,i,e.currentTarget.id);var o=e.touches,n=[];if(e.type.indexOf("touch")>-1)for(var s=0,l=o.length;s<l;s++)n.push({pageX:o[s].clientX,pageY:o[s].clientY,pointerId:e.pointerId||0});return{type:e.type,clientX:e.clientX,clientY:e.clientY,mouseX:this.mouseX,mouseY:this.mouseY,pointerType:e.pointerType,target:e.target.id,changedTouches:{clientX:e.changedTouches?e.changedTouches[0].clientX:0,clientY:e.changedTouches?e.changedTouches[0].clientY:0},touches:n,pointerId:e.pointerId,ctrlKey:e.ctrlKey}},e.prototype.labelInterSect=function(e){for(var t=!1,i=0;i<e.XAxisLabels.length;i++){if(this.measureText(e.XAxisLabels[i],e.XAxisTextStyle).width>e.CellWidth){t=!0;break}}var o=new Array;o=e.XLabelIntersectActionTrim&&t&&!e.XAxisEnableTrim?this.returnLabels(e.XAxisLabels,e.XAxisTextStyle,e.XAxisInterval*e.CellWidth):this.returnLabels(e.XAxisLabels,e.XAxisTextStyle,e.XMaxLabelLength);var n=this.returnLabels(e.YAxisLabels,e.YAxisTextStyle,e.YMaxLabelLength);this.dotnetRef.invokeMethodAsync("LabelInterSect",t,o,n)},e.prototype.returnLabels=function(e,t,i){for(var o=0;o<e.length;o++){var n=e[o],s=this.measureText(n,t).width;if(s>i)for(var l=n.length-1;l>=0&&(n=n.substring(0,l)+"...",!((s=this.measureText(n,t).width)<=i));--l);e[o]=n}return e},e.prototype.measureText=function(e,t){var i=document.getElementById("heatmapmeasuretext");return null===i&&(i=sf.base.createElement("text",{id:"heatmapmeasuretext"}),document.body.appendChild(i)),i.setAttribute("style","position:absolute;visibility:hidden;font-size:"+t.size+";font-weight:"+t.fontWeight+";font-style:"+t.fontStyle+";font-family:"+t.fontFamily+";top:-100;left:0;white-space:nowrap;line-height:normal"),i.innerText=e,{height:i.clientHeight,width:i.clientWidth,top:null,left:null,right:null,bottom:null,parentHeight:null}},e.prototype.destroy=function(){var e=sf.base.Browser.isPointer?"pointerleave":"mouseleave";sf.base.EventHandler.remove(this.element,"click",this.heatMapMouseClick),sf.base.EventHandler.remove(this.element,sf.base.Browser.touchStartEvent,this.heatMapMouseMove),sf.base.EventHandler.remove(this.element,e,this.heatMapMouseLeave),sf.base.EventHandler.remove(this.element,sf.base.Browser.touchMoveEvent,this.heatMapMouseMove);var t=sf.base.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize";sf.base.EventHandler.remove(window,t,this.resizeBound.bind(this)),this.element=null},e}();return{initialize:function(t,i,o){new e(t,i);var n=window.sfBlazor.getCompInstance(t.id);return n?n.initialize(o):null},getLabelSize:function(e,t){var i=window.sfBlazor.getCompInstance(e.id);return i?i.getLabelSize(t):null},labelInterSect:function(e,t){var i=window.sfBlazor.getCompInstance(e);i&&i.element&&i.labelInterSect(t)},renderTooltip:function(e,t,i,o,n,s,l,a,r,h,d){var p=window.sfBlazor.getCompInstance(e);p&&p.element&&p.renderTooltip(e,t,o,n,s,l,a,r,h,d)},fadeOut:function(e){var t=window.sfBlazor.getCompInstance(e);if(t&&t.element){if(sf.base.isNullOrUndefined(t)||!sf.base.isNullOrUndefined(t)&&sf.base.isNullOrUndefined(t.tooltip))return;""!=t.previousCellID&&(t.setOpacity(document.getElementById(t.previousCellID),"1"),t.previousCellID="",t.tooltip.fadeOut())}},destroy:function(e){var t=window.sfBlazor.getCompInstance(e);t.element&&t&&t.destroy()}}}()}}]);(async()=>{await import(`${document.baseURI}_content/Syncfusion.Blazor/scripts/syncfusion-blazor-base.min.js?v=20.4.38`).then(()=>{sfBlazor.loadDependencies('sfheatmap');})})();